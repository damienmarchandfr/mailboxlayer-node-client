{"version":3,"file":"MemoryConnector.js","sourceRoot":"","sources":["../../storages/MemoryConnector.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yDAAwD;AAGxD;IAAqC,mCAAiB;IAGlD;QAAA,YACI,iBAAO,SAGV;QAFG,OAAO,CAAC,IAAI,CAAC,2CAA2C,CAAC,CAAA;QACzD,KAAI,CAAC,MAAM,GAAG,EAAE,CAAA;;IACpB,CAAC;IAEY,sCAAY,GAAzB,UAA0B,KAAa;;;;gBAC7B,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,UAAA,gBAAgB;oBAC9C,OAAO,gBAAgB,CAAC,KAAK,KAAK,KAAK,CAAA;gBAC3C,CAAC,CAAC,CAAA;gBAEF,IAAI,MAAM,CAAC,MAAM,EAAE;oBACf,sBAAO,MAAM,CAAC,CAAC,CAAC,EAAA;iBACnB;gBACD,sBAAO,IAAI,EAAA;;;KACd;IAEY,sCAAY,GAAzB,UAA0B,KAAY;;;;;4BACpB,qBAAM,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,CAAC,EAAA;;wBAA5C,IAAI,GAAI,SAAoC;wBAClD,IAAI,IAAI,KAAK,IAAI,EAAG;4BAChB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;yBAC1B;wBACD,sBAAO,KAAK,EAAA;;;;KACf;IACL,sBAAC;AAAD,CAAC,AA3BD,CAAqC,qCAAiB,GA2BrD;AA3BY,0CAAe","sourcesContent":["import { AbstractConnector } from './AbstractConnector';\nimport { Email } from '../models/data/Email';\n\nexport class MemoryConnector extends AbstractConnector {\n    public emails: Email[]\n\n    constructor() {\n        super()\n        console.info('Do not use memory connector in production')\n        this.emails = []\n    }\n\n    public async getEmailInfo(email: string): Promise<Email |Â null> {\n        const result = this.emails.filter(emailFromStorage => {\n            return emailFromStorage.email === email\n        })\n\n        if (result.length) {\n            return result[0]\n        }\n        return null\n    }\n\n    public async addEmailInfo(email: Email): Promise<Email> {\n        const info  = await this.getEmailInfo(email.email)\n        if (info === null ) {\n            this.emails.push(email)\n        }\n        return email\n    }\n}\n"]}